# Functional Focus of NextGen CPQ

A recent conversation highlighted the main challenge with the existing CPQ-X (CPQ) system, as explained by the architect. It has many intricacies and complexities due to its long history, making it difficult to create a better design that also addresses all the important features that need to be rebuilt in NextGen CPQ.  
This challenge mainly arises from its deep integration with the Zuora billing system and its design to handle the complexities of Subscription Lifecycle Management.  
In support of the architecture work, which aims to take a fresh look at the challenges, this document will provide guidance on the high-priority functional requirements that the new architecture must meet. The product manager emphasizes the need for an architectural solution that directly tackles these complexities, enabling future performance and scalability, functional completeness for high- and medium-priority features, and ease of use. This document outlines the functional focus of NextGen CPQ.

| \# | Area | Description | Priority |
| :---- | :---- | :---- | :---- |
| 1 | Handling of various Charge Types | Admins can create products and bundles that have a mix (combination) of charge types.  Charge types are one-time, recurring, and usage.  Current Challenge: ?  | High |
| 1.1 | Charge Type: One-time | Needs to be paid in one sum.  Usually used to reflect the activation of a product and plan, or the setting up (provisioning) of services.Current Challenge: A product with a plan that has only this type of charge is also available to be added as an OLI (See Order Line Item).  Using this construct to represent price for products that have just a one-time price is overkill and confusing when setting up products and when adding products.     | High |
| 1.2 | Charge Type Recurring | Needs to be paid on a regular basis. Can have different types of periodicity.  Customers cannot define their own periodicity. Current Challenge: ? | High |
| 1.3 | Charge Type: Usage | Payment is determined based on consumption or usage. Current Challenge: The quote has no extended prices for such charges (as usage is not known during quoting time), but Zuora wants to provide usage estimates based on past usage, projected usage based on industry or similar account, and estimated usage provided by the customer. | High |
| 1.3.1 | Negotiate prices for a usage-based charge | Usage-based charges allow customers to set up Dynamic Pricing with a Rate Card table for that charge.  A sales rep can then negotiate many different price points for one usage charge. Each price point in the Rate Card Table of that charge will later be selected based on pricing-attribute combinations from the actual usage. Current Challenge: The Rate Card Table is not visible in the quote line page.  A sales rep has to get to it in the pricing details.  In the quote line table, the user is not seeing much information for this charge.      |  |
| 2 | Charge Models | Zuora has 16 different charge models.  All of them need to be supported by NextGen CPQ.  [See Charge Models](https://knowledgecenter.zuora.com/Zuora_Billing/B_Set_up_Zuora_Billing/Build_products_and_prices/Charge_models_-_configure_any_pricing)Current Challenge: ? | High |
| 2.1  | Discount Percent Charge Model | The discount % charge model is a charge that is added to a product/plan. It can apply to a specific charge or all charges of a product/plan, or apply to the entire subscription, or apply to the entire quote. Current Challenges: It is cumbersome for sales reps to use this charge model as it requires a lot of clicks to set a specific discount % value.  Hence, another mechanism was introduced, the inline discount.  Inline discounts and the Percent Charge Model are similar, but are treated differently in the system (OM and Billing do not have the value of the inline discount; they only get the effective price).    |  |
| 3 | Order Line Items | Order Line Items (usually hardware that gets paid upfront) are products that do not have a plan.  These products have just one price, no plan, no charge.Current Challenge: OLIs are modeled like subscription products with a plan and a charge, which is overkill.  OLIs are listed in a separate section of the quote lines and, as a result, can be out of context/disconnected from an associated product/plan and charged on a subscription.  Handling of OLIs variations by attributes is not supported (Color, Size, Style, etc.) (Xylem).  Handling of large amounts of OLIs is not supported (Xylem). Additional information about OLIs is not captured (Serial Numbers, Ship-to location, Shipment parameters, Shipping cost, routing to Order Mgmt system)       | Medium High |
| 4 | Subscription Lifecycle Management | All functionality related to managing the timeline of a subscription and changes over time to the subscription (amendments, renewals) |  |
| 4.1.  | Single Subscription in Quote | The quote has only one subscription. Current Challenges: Today, the user must determine whether they have a single or multi-subscription quote (Zoom).  A decision must be made at the beginning of the quote process, but what if the user is unsure whether a single subscription quote could evolve into a multi-subscription quote later?  |  |
| 4.2. | New Quote, future-dated actions | When creating a new quote, the user can decide to add future-dated actions such as updating a charge item (add more qty, reduce discount, add a product/plan, remove a product/plan).  The user can also add future-dated actions and backdate them into the past.A future-dated update might be based on another earlier future-dated update, and so on.   A future-dated update might be placed in the middle of two future-dated updates.  Current Challenges: Timeline is an additional dimension where changes might have been placed, but it is hard for users to visualize those changes over the timeline and understand fully and quickly what is going on in the quote.Our customers have certain preconceptions about how changes they make in earlier periods should update future-dated updates. E.g., should a qty increase of an earlier update automatically increase the quantity of a segment that has a  future-dated update?) |  |
| 5 | Amendment Quote | Quoting of changes to an existing (currently valid and charged) subscription. Removing/adding product/plans, updating charge items (increase, decrease qty, discount, change parameter of billing)Current Challenges: ? |  |
| 5.1 | Amendment quotes, pricing of items | When executing a change to a subscription, customers will want to handle pricing in various ways.Current Challenge: We have configuration settings for how to deal with price updates during amendments.  Take historical price (grandfather in price) and apply to updates (e.g., increase qty with historical price) or fetch the latest and newest price based on quote creation date, amendment service start date, quote valid until date, etc.    |  |
| 5.2. | Amendment quotes, business rules | Current Challenge: Customers require considerable flexibility in determining the system behavior (enforce biz policies) when executing an amendment.  Example rule from Zoom: after the amendment, the value of the subscription cannot be less than the current subscription value.  The expression power of rules and rule performance can be problematic, leading customers to write extension code to handle such business policies.  |  |
| 5.3 | Merge/Split of Subscriptions | In some cases, when companies merge, split, or reorganise, their subscriptions and entitlements have to be divided into multiple subscriptions or merged into one subscription. This functionality is currently not available in CPQ-X |  |
| 6 | Renewal Quotes | Current Challenge: A quote needs to be autogenerated X days before the renewal.  Can the presentment and acceptance/rejection process by the customer also be handled through automation?  |  |
| 7 | Combine new, amendments, and renewals into a single Quote | Current Challenge: Currently, the new, amend, and renew actions cannot be combined into a single quote, but customers might ask for a change (amendment) in one subscription, want a new subscription, and renew yet another subscription. In this case, the sales rep would need to make 3 separate quotes.     |  |
| 8 | Multi Subscription Quote | Customers might require an additional dimension to structure product/plans.  For example, they want a single quote, but there are various invoice owners who pay for a subset of product/plans in the quote.  Another example is subscription location. Currently, each location has to be modelled as a subscription, increasing complexity for the sales rep.  Each location might have a slightly different product/plan mix than the next one. Location is not a concept we have, but it is only one example of many where customers are introducing custom fields on the subscription level to model such variation.      |  |
| 9 | Cancel Subscription | A function is needed to cancel a subscription.  Does this always necessitate a quote?Current Challenge: If the account does not need a quote to confirm the cancellation, why is it necessary for a sales or service rep to go through all the motions of creating one?  Can we offer a cancel function that sales and service reps can use to cancel a subscription without creating a quote?  Expose the order management function of cancellation to sales and service reps. |  |
| 10 | Billing Parity: Suspend/Resume | A function is needed to suspend and resume a subscription.  In essence, setting a status on the subscription to indicate that no further billing will occur, but it also means the service is interrupted. Does this always necessitate a quote? [More details here](https://zuora.atlassian.net/browse/COM-17072)Current Challenge: This function does not exist in CPQ-X yet. |  |
| 11 | 'Percent Spent' new Charge Model | System needs to calculate the value of this ‘Percent Sepnt’ charge based on a % of the sum of all or a subset of other charges.  An example is that Maintenance and Support cost is 15% of the service subscription price. |  |
| 12 | Commitments in Quote  | For usage-based charges, accounts might negotiate min and max commitments over some time period.  For example, JP Morgan will commit that over the next month, they will execute bond trades above a minimum amount.  If they don’t meet the minimum amount, JP Morgan has to pay the minimum amount anyway.  Similar to the maximum amount, the service provider cannot charge more than the agreed-upon maximum commitment amount, which means JP Morgan will never pay more than the maximum amount, regardless of how many bonds they traded. These commitments have various sections (general, periods with commitments, filters for applying to only certain activities/charges).There can be one or more commitments relevant to a quote.  Commitments belong to an agreement.  The agreement and commitments must be displayed in the quote, and how the charge items in the quote are associated with the commitment periods. For some customers (Tradeweb, the), the sales rep must be able to create a new local (to the quote) commitment. For some customers (Tradeweb) sales reps must be able to edit global commitments Current Challenge: Functionality is not implemented in CPQ |  |
| 13 | Billing Parity: Pending Charges |  |  |
| 14 | Support for Hard Bundles | Admin sets up a hard bundle by associating a bundle product with other (component) products.  Pricing is set up for the hard bundle product/plan and charges, and is usually independent from the pricing of its component products.  Accounts can buy a set of products at a better price via a bundle than buying them indivually (incentive).  Sales reps and accounts must understand what products are included in the bundle.  The bundle also has a set of entitlements that might be the union of all entitlements of the component products, but that might not always be true.  Similar to entitlements, features of the bundle product/plan might be an aggregation of the component product features, but that might not always be true. Current Challenges: The Zuora data model, which enables modeling multiple charge items for a product/plan, has been utilized as a workaround to achieve bundling capabilities.  It falls short in pricing and setting discounts on bundle level, as each component is shown with its own price, discount, and qty, which is not how a hard bundle works according to best business practices.       |  |
| 15 | Support for Configurable Products | Configurable products or dynamic bundles are similar to hard bundles, as they may include products. However, configurable products enable sales reps to undergo a guided configuration process, adding component products or selecting them directly to be added to the configurable products.  Usually used in SaaS for modeling of optional add-ons.  Based on the configuration, the configurable product entitlements are determined, same for features. Sales reps must be able to view included and optional added component products, entitlements, and features.  They must be able to see the total prices for the configurable product and the discount on the configurable product level. |  |
| 16 | Support for building Solutions | Building of solutions is similar to configuring products, except solutions do not have a parent product/plan with charges.  A solution is a collection of products that solve a customer's need.  Rules ensure a solution has all the products and that the products work together (are compatible).  There can be multiple solutions in the quote.  |  |
| 17 | Support for Price Promotions | A price promotion (aka Soft Bundle) is a pricing rules that run across all quote lines and detect if discounts (promotions) can be applied.  A typical price promotion rule might be buy product A and B and get product C for free. Or buy a qty of 2 of product A and get qty 1 of product B for free.  |  |
| 18 | Billing Parity: Upsell Qty |  |  |
| 19 | Billing Parity: Enhanced Discounts |  |  |
| 20 | Billing Parity: Ship-to Contact |  |  |
| 21 | Billing Parity: Invoice grouping |  |  |
| 22 | Billing Parity: Set bill timing and frequency |  |  |
| 23 | Billing Parity: Accounting, Revenue, and Taxation fields |  |  |
| 24 | Billing Parity: Subscription level association of Account concepts, such as Payment Terms, BillTo/SoldTo Contacts, Invoice Templates |  |  |
| 25 | Billing Parity: Make changes to a bill schedule |  |  |
| 26 | Quote Charge Metrics | Quote Metrics informs the user from individual charge to quote level about the sub-total (Net) and total (Gross, inclusive all discounts) value.  Quote Metrics shows typical KPIs for subscription quotes like MRR and Delta MRR (Gross, Net, and Discount), TCV (Gross, Net, and Discount), TCB and Delta TCB (Gross, Net, and Discount), and Delta Qty. Levels:Total and sub-total on charge level Total and sub-total on ramp interval level Total and sub-total on ramp level Total and sub-total on subscription level Total and sub-total on quote levelCurrent Challenges: Metrics are calculated by the billing system and might not always represent the way how a customer would want to see their metrics.  Metric definition and hence their calculation can be specific to the customer’s needs.  Sales reps want to understand the numbers quickly and without breaking out their own calculator, the current display of the quote metrics numbers can be difficult to understand.     |  |
| 27 | Ramping of subscriptions | Sales rep ramp deals in order to meet customer expectations.  For example a customer might ask for a deep discount, the sales rep accommodates that request and applies in the beginning of the subscription the discount.  However he also can model the subscription with ramps to solwly over a given number of ramps phase out the discount.  Similar with adding qty over ramp intervals as accounts usually onboard their users gradually.  Challenge: Future dated updates and making changes to ramps  are in essence the same thing but are initiated in different ways and displayed in different ways.  Currently sales rep are limited in automating the generation of ramps with desired changes. E.g. Make a ramp every 10 days and starte with a discount of 30%, then decrease the discount by 1% for each successive ramp and stop reducing the discount when you reach 10%. Change made for a ramp are not percolating into successive ramps. E.g. If a sales rep increases the qty in ramp 6 of 12 from 1 to 2, he expects that all successive ramps (7-12) already have the qty \=2.         |  |
| 27.1 | Custom Ramps | Sales rep decide on the dates when a ramp segment goes into effect and ends.   Current Challenge: Defining manually when ramp starts and ends is same as making a future dated updates, but it involves more work for sales reps to first define the ramps and then in a separate step they define for each ramp the desired change.  This is very time consuming for sales reps. |  |
|  |  |  |  |
|  |  |  |  |
|  |  |  |  |
|  |  |  |  |
|  |  |  |  |
|  |  |  |  |
|  |  |  |  |
|  |  |  |  |
|  |  |  |  |
|  |  |  |  |

